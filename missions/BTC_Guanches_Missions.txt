btc_gch_1_a = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = GCH
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	btc_gch_fate_of_guanches = {
		icon = mission_claim_the_canaries
		required_missions = {	}
		position = 1

		trigger = {
		}

		effect = {
			custom_tooltip = gch_choice_affects_missions_tt
			country_event = {
				id = btc_gch.1
			}
		}
	}
}

btc_gch_branching = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = GCH
		NOT = { map_setup = map_setup_random }
		NOT = { has_country_flag = gch_vassal_path } 
		NOT = { has_country_flag = gch_revenge_path }
		NOT = { has_country_flag = gch_caribbean_path }
	}
	has_country_shield = yes
	
	btc_gch_branch_mission = { 
		icon = mission_unknown_mission
		required_missions = { btc_gch_fate_of_guanches }
		position = 2
		trigger = { 
			custom_trigger_tooltip = {
				tooltip = selectable_mission_trigger_tt
				always = no
			}
		}
		effect = { 
			custom_tooltip = gch_submit_to_iberians_tt
			custom_tooltip = gch_fight_iberians_tt
			custom_tooltip = gch_flee_to_caribbean_tt
		}
	}
}

btc_gch_vassal = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = GCH
		NOT = { map_setup = map_setup_random }
		has_country_flag = gch_vassal_path
	}
	has_country_shield = yes

	btc_gch_iberian_friend = {
		icon = mission_alliances
		required_missions = { btc_gch_fate_of_guanches }
		position = 2
		trigger = { 
			if = {
				limit = {
					ROOT = { vassal_of = CAS }
				}
				CAS = {
					has_opinion = {
						who = ROOT
						value = 100
					}
				}
			}
			if = {
				limit = {
					ROOT = { vassal_of = POR }
					tag = GCH
				}
				POR = {
					has_opinion = {
						who = ROOT
						value = 100
					}
				}
			}
		}
		effect = { 
			country_event = {
				id = btc_gch.6
			}
		}
	}
}

btc_gch_revenge = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = GCH
		NOT = { map_setup = map_setup_random }
		has_country_flag = gch_revenge_path
	}
	has_country_shield = yes

	btc_gch_build_fleet = {
		icon = mission_reclaim_andalucia
		required_missions = { btc_gch_fate_of_guanches }
		position = 2
		trigger = { 
			navy_size_percentage = 1
			army_size_percentage = 1
		}
		effect = { 
			macaronesia_area = {
				limit = { 
					NOT = { owned_by = ROOT } 
					NOT = { is_core = ROOT } 
				}
				add_permanent_claim = ROOT 
			}
		}
	}	
}

btc_gch_caribbean = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = GCH
		NOT = { map_setup = map_setup_random }
		has_country_flag = gch_caribbean_path
	}
	has_country_shield = yes

	btc_gch_discover_home_islands = {
		icon = mission_invade_island
		required_missions = { btc_gch_fate_of_guanches }
		position = 2
		trigger = { 
			custom_trigger_tooltip = {
				tooltip = gch_done_exploring_tt
				has_country_flag = gch_main_islands
			}
		}
		effect = { 
			add_country_modifier = {
				name = guanches_colonisation
				duration = -1
			}
		}
	}

	btc_gch_own_islands = {
		icon = mission_pirate_flag
		required_missions = { btc_gch_discover_home_islands }
		position = 3
		trigger = { 
			num_of_owned_provinces_with = {
				value = 2
				has_port = yes
				is_city = yes
			}
		}
		effect = { 
			country_event = {
				id = btc_gch.5
			}
		}
	}

	btc_gch_discover_all_islands = {
		icon = mission_colonize_the_caribbean
		required_missions = { btc_gch_own_islands }
		position = 4
		trigger = { 
			custom_trigger_tooltip = {
				tooltip = gch_done_exploring_all_tt
				has_country_flag = all_discoveries_done
			}
		}
		effect = { 
			custom_tooltip = guanches_exploration_tt
			add_country_modifier = {
				name = guanches_exploration
				duration = -1
			}
		}
	}
}