namespace = btc_tur
normal_or_historical_nations = yes

# The yearly Eyalet Tribute
country_event = {
	id = btc_tur.1
	title = btc_tur.1_t
	desc = btc_tur.1_d
	picture = CORRUPTION_eventPicture
	is_triggered_only = yes

	trigger = {
		OR = {
			is_subject_of_type = eyalet
			is_subject_of_type = core_eyalet
		}
	}

	mean_time_to_happen = {
		days = 1
	}
    
    immediate = {
        hidden_effect = {
            export_to_variable = {
                which = eyalet_tribute_to_pay
                value = monthly_income
                who = ROOT
            }
            multiply_variable = {
                which = eyalet_tribute_to_pay
                value = 2
            }
        }
    }

	#Pay the Annual Tribute
	option = {
		name = btc_tur.1a
		custom_tooltip = btc_tur.1a_tt
		hidden_effect = {
			overlord = {
				country_event = {
					id = btc_tur.2
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}

	#Refuse to pay the Annual Tribute
	option = {
		name = btc_tur.1b
		hidden_effect = {
			overlord = {
				country_event = {
					id = btc_tur.3
				}
			}
		}
		ai_chance = {
			factor = 0
		}
	}
}

# FROM pays Tribute
country_event = {
	id = btc_tur.2
	title = btc_tur.2_t
	desc = btc_tur.2_d
	picture = TRIBUTE_TO_TATARS_eventPicture
	is_triggered_only = yes
    
    immediate = {
        hidden_effect = {
            export_to_variable = {
                which = eyalet_tribute_to_pay
                value = monthly_income
                who = FROM
            }
            multiply_variable = {
                which = eyalet_tribute_to_pay
                value = 3
            }
        }
    }

	option = {
		name = btc_tur.2a
		transfer_treasury = {
			giver = FROM
			taker = ROOT
			variable = eyalet_tribute_to_pay
			custom_tooltip = btc_tur.2a_tt
		}

		ai_chance = {
			factor = 1
		}
	}
}

# FROM refuses to pay Tribute
country_event = {
	id = btc_tur.3
	title = btc_tur.3_t
	desc = btc_tur.3_d
	picture = TRIBUTE_TO_TATARS_eventPicture
	is_triggered_only = yes

	#We have to live without it
	option = {
		name = btc_tur.3a
		add_prestige = -5
	}
}