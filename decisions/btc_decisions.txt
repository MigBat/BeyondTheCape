country_decisions = {
	por_upgrade_armada_decision = {
		color = { 255 69 0 }
		major = yes
		potential = {
			has_country_modifier = por_caravels
			NOT = { has_country_modifier = por_armada }
			is_or_was_tag = {
				tag = POR
			}
		}

		allow = {
			has_country_modifier = por_caravels
			num_of_caravel = 5
		}

		effect = {
			add_years_of_income = -0.25
			add_country_modifier = {
				name = por_armada
				duration = -1
			}
		}
	}
}

country_decisions = {
	por_upgrade_fullrigged_decision = {
		color = { 255 69 0 }
		major = yes
		potential = {
			has_country_modifier = por_galleons
			NOT = { has_country_modifier = por_fullrigged }
			is_or_was_tag = {
				tag = POR
			}
		}

		allow = {
			has_country_modifier = por_galleons
			num_of_galleon = 5
		}

		effect = {
			add_years_of_income = -0.25
			add_country_modifier = {
				name = por_fullrigged
				duration = -1
			}
		}
	}
}

country_decisions = {
	spa_upgrade_fullrigged_decision = {
		color = { 255 69 0 }
		major = yes
		potential = {
			has_country_modifier = spa_employ_galleon_modifier
			NOT = { has_country_modifier = spa_fullrigged }
			is_or_was_tag = {
				tag = CAS
			}
		}

		allow = {
			has_country_modifier = spa_employ_galleon_modifier
			num_of_galleon = 5
		}

		effect = {
			add_years_of_income = -0.25
			add_country_modifier = {
				name = spa_fullrigged
				duration = -1
			}
		}
	}
}

country_decisions = {
	ven_upgrade_galeazza_decision = {
		color = { 255 69 0 }
		major = yes
		potential = {
			has_reform = merchant_arsenal_reform
			NOT = { has_country_modifier = ven_galeazza }
			is_or_was_tag = {
				tag = VEN
			}
		}

		allow = {
			has_reform = merchant_arsenal_reform
			num_of_galleass = 5
		}

		effect = {
			add_years_of_income = -0.25
			add_country_modifier = {
				name = ven_galeazza
				duration = -1
			}
		}
	}
}

country_decisions = {
	show_tutorial_decision = {
		potential = { 
			ai = no
		}

		allow = { }

		effect = {
			country_event = {
				id = btc_startscreen.1
			}
		}
	}
}

country_decisions = {
	portuguese_focus_decision = {
		color = { 125 35 47 }
		major = yes
		potential = {
			has_government_mechanic = portuguese_saudade_mechanic
			ai = no
		}

		allow = {
			custom_trigger_tooltip = {
				tooltip = saudade_tt
				has_government_mechanic = portuguese_saudade_mechanic
			}
			NOT = { has_country_modifier = homeland_focus }
			NOT = { has_country_modifier = overseas_focus }
			num_of_completed_idea_groups_by_category = {
				type = adm
				amount = 1
			}
			num_of_completed_idea_groups_by_category = {
				type = dip
				amount = 1
			}
			num_of_completed_idea_groups_by_category = {
				type = mil
				amount = 1
			}
		}

		effect = {
			country_event = {
				id = btc_por.131
			}
		}
	}
}

country_decisions = {
	extra_flagship_decision = {
		potential = {
			OR = {
				has_idea_group = maritime_ideas
				has_idea_group = naval_ideas
				navy_size = 50
			}
			NOT = { has_country_modifier = extra_flagship }
		}

		allow = {
			navy_size = 100
			OR = {
				full_idea_group = maritime_ideas
				full_idea_group = naval_ideas
			}
		}

		effect = {
			add_country_modifier = {
				name = extra_flagship
				duration = -1
			}
		}
	}
}

country_decisions = {
	iberian_wedding_information = {
		potential = {
			ai = no
			OR = {
				AND = {
					tag = POR
					has_heir_flag = isabel
				}
				AND = {
					tag = ARA
					has_heir_flag = joana
				}
			}
			CAS = { NOT = { has_disaster = castilian_civil_war }}
		}

		allow = {
			OR = {
				NOT = { CAS = { prestige = ROOT } }
				prestige = 100
			}
			OR = {
				NOT = { CAS = { legitimacy = ROOT } }
				legitimacy = 100
			}
			OR = {
				NOT = { CAS = { stability = ROOT } }
				stability = 3
			}
			if = {
				limit = {
					POR = { has_heir_flag = isabel }
				}
				227 = {
					higher_development_than = 219
				}
			}
			if = {
				limit = {
					ARA = { has_heir_flag = joana }
				}
				214 = {
					higher_development_than = 219
				}
			}
		}

		effect = {
		}
	}
}

country_decisions = {
	cas_por_iberian_wedding_information = {
		potential = {
			ai = no
			tag = CAS
			has_heir_flag = isabel
			CAS = { NOT = { has_disaster = castilian_civil_war }}
		}

		allow = {
			OR = {
				OR = {
					prestige = POR
					NOT = { POR = { prestige = 100 } }
				}
				OR = {
					legitimacy = POR
					NOT = { POR = { legitimacy = 100 } }
				}
				OR = {
					stability = POR
					NOT = { POR = { stability = 3 } }
				}
				219 = {
					higher_development_than = 227
				}
			}
		}

		effect = {
		}
	}
}

country_decisions = {
	cas_ara_iberian_wedding_information = {
		potential = {
			ai = no
			tag = CAS
			has_heir_flag = joana
			CAS = { NOT = { has_disaster = castilian_civil_war }}
		}

		allow = {
			OR = {
				OR = {
					prestige = ARA
					NOT = { ARA = { prestige = 100 } }
				}
				OR = {
					legitimacy = ARA
					NOT = { ARA = { legitimacy = 100 } }
				}
				OR = {
					stability = ARA
					NOT = { ARA = { stability = 3 } }
				}
				219 = {
					higher_development_than = 214
				}
			}
		}

		effect = {
		}
	}
}

country_decisions = {
	portugal_colour = {
		potential = {
			tag = POR
			ai = no
		}
		allow = {}
		effect = {
			country_event = {
				id = btc_por.164
			}
		}
	}
}

# Colonial Pool

country_decisions = {
	colonial_pool = {
		color = { 55 160 255 }
		potential = {
			ai = no
			num_of_colonists = 1
		}
		allow = {
			custom_trigger_tooltip = {
				tooltip = settler_pool_tt
				num_of_colonists = 1
			}
		}
		effect = {
			country_event = {
				id = btc_events.16
			}
		}
	}
}

# Revoke Treaty of Tordesillas

country_decisions = {
	revoke_tordesillas = {
		potential = {
			ai = no
			OR = {
				has_country_flag = tordesillas_por
				has_country_flag = terra_nova_por
				has_country_flag = new_tordesillas_por
				has_country_flag = tordesillas_cas
				has_country_flag = terra_nova_cas
				has_country_flag = new_tordesillas_cas
			}
		}
		allow = {
			custom_trigger_tooltip = {
				tooltip = revoke_tordesillas_tt
			}
		}
		effect = {
			custom_tooltip = tordesillas_revoked_tt
			hidden_effect = {
				POR = {
					clr_country_flag = tordesillas_por
					clr_country_flag = terra_nova_por
					clr_country_flag = new_tordesillas_por
				}
				IBE = {
					clr_country_flag = tordesillas_por
					clr_country_flag = terra_nova_por
					clr_country_flag = new_tordesillas_por
				}
				CAS = {
					clr_country_flag = tordesillas_cas
					clr_country_flag = terra_nova_cas
					clr_country_flag = new_tordesillas_cas
				}
				SPA = {
					clr_country_flag = tordesillas_cas
					clr_country_flag = terra_nova_cas
					clr_country_flag = new_tordesillas_cas
				}
			}
			POR = { remove_country_modifier = tordesillas_claims }
			IBE = { remove_country_modifier = tordesillas_claims }
			CAS = { remove_country_modifier = tordesillas_claims }
			SPA = { remove_country_modifier = tordesillas_claims }
			if = {
				limit = {
					OR = {
						POR = {
							exists = yes
						}
						IBE = {
							exists = yes
						}
					}
					OR = {
						CAS = {
							exists = yes
						}
						SPA = {
							exists = yes
						}
					}
				}
				add_stability = -2
			}
			if = {
				limit = {
					ROOT = {
						is_or_was_tag = {
							tag = POR
						}
					}
					exists = CAS
				}
				CAS = {
					add_opinion = {
						who = ROOT
						modifier = revoked_tordesillas
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_or_was_tag = {
							tag = POR
						}
					}
					exists = SPA
				}
				SPA = {
					add_opinion = {
						who = ROOT
						modifier = revoked_tordesillas
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_or_was_tag = {
							tag = CAS
						}
					}
					exists = POR
				}
				POR = {
					add_opinion = {
						who = ROOT
						modifier = revoked_tordesillas
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_or_was_tag = {
							tag = CAS
						}
					}
					exists = IBE
				}
				IBE = {
					add_opinion = {
						who = ROOT
						modifier = revoked_tordesillas
					}
				}
			}
		}
	}
}

# Hire Navigator

country_decisions = {
	hire_navigator = {
		potential = {
			ai = no
			mission_completed = btc_por_sagres
			OR = {
				had_country_flag = {
					flag = hired_navigator
					days = 1825
				}
				NOT = { has_country_flag = 1st_nav_decision }
			}
		}
		allow = {
			has_estate_privilege = estate_burghers_naval_school_right
			mission_completed = btc_por_sagres
			owns = 230
			navy_tradition = 5
		}
		effect = {
			define_advisor = {
				type = navigator
				skill = 1
				discount = yes
				location = 230
			}
			add_navy_tradition = -5
			clr_country_flag = hired_navigator
			set_country_flag = hired_navigator
			set_country_flag = 1st_nav_decision
		}
	}
}

#Venetian decisions

#Council of ten emergency government decision
country_decisions = {
	btc_ven_ten_council_government = {
		potential = {
			ai = no
			has_reform = venice_merchants_reform
			NOT = { has_country_modifier = btc_ven_ten_council_eliminated }
			NOT = { has_government_attribute = improved_ten_council }
		}
		allow = {
			NOT = { has_country_modifier = btc_ven_ten_emergency_government }
			war_exhaustion = 10
		}
		effect = {
			add_country_modifier = {
				name = btc_ven_ten_emergency_government
				duration = 1825
			}
			add_stability = -1
			add_prestige = -20
		}
	}
}

country_decisions = {
	btc_ven_improved_ten_council_government = {
		potential = {
			ai = no
			NOT = { has_country_modifier = btc_ven_ten_council_eliminated }
			has_government_attribute = improved_ten_council
		}
		allow = {
			NOT = { has_country_modifier = btc_ven_ten_emergency_government }
			NOT = { has_country_modifier = btc_ven_ten_improved_emergency_government }
			war_exhaustion = 10
		}
		effect = {
			add_country_modifier = {
				name = btc_ven_ten_improved_emergency_government
				duration = 1825
			}
			add_prestige = -10
		}
	}
}

# Guanches Caribbean #

country_decisions = {
	btc_gch_discover_island = {
		major = yes
		potential = {
			has_country_flag = gch_discover_islands
			NOT = { has_country_flag = all_discoveries_done }
		}
		allow = {
			capital_scope = {
				num_of_units_in_province = {
					who = ROOT
					type = infantry
					amount = 1
				}
			}
			custom_trigger_tooltip = {
				tooltip = currently_exploring_tt
				NOT = { has_country_flag = exploration_in_progress }
			}
		}
		effect = {
			country_event = {
				id = btc_gch.3
			}
		}
	}
}

# AI European India #

country_decisions = {
	btc_ai_european_india = {
		potential = {
			ai = yes
			has_country_flag = ai_european_india_flag
			NOT = { has_country_flag = you_did_it }
		}
		allow = {
			india_superregion = {
				type = all
				owned_by = root
			}
		}
		effect = {
			set_country_flag = you_did_it
		}
		ai_will_do = {
			factor = 1
		}
		ai_importance = 1000
	}
}