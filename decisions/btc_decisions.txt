country_decisions = {
	por_upgrade_armada_decision = {
		color = { 255 69 0 }
		major = yes
		potential = {
			has_country_modifier = por_caravels
			NOT = { has_country_modifier = por_armada }
			is_or_was_tag = {
				tag = POR
			}
		}

		allow = {
			has_country_modifier = por_caravels
			num_of_caravel = 5
		}

		effect = {
			add_years_of_income = -0.25
			add_country_modifier = {
				name = por_armada
				duration = -1
			}
		}
	}
}

country_decisions = {
	por_upgrade_fullrigged_decision = {
		color = { 255 69 0 }
		major = yes
		potential = {
			has_country_modifier = por_galleons
			NOT = { has_country_modifier = por_fullrigged }
			is_or_was_tag = {
				tag = POR
			}
		}

		allow = {
			has_country_modifier = por_galleons
			num_of_galleon = 5
		}

		effect = {
			add_years_of_income = -0.25
			add_country_modifier = {
				name = por_fullrigged
				duration = -1
			}
		}
	}
}

country_decisions = {
	spa_upgrade_fullrigged_decision = {
		color = { 255 69 0 }
		major = yes
		potential = {
			has_country_modifier = spa_employ_galleon_modifier
			NOT = { has_country_modifier = spa_fullrigged }
			is_or_was_tag = {
				tag = CAS
			}
		}

		allow = {
			has_country_modifier = spa_employ_galleon_modifier
			num_of_galleon = 5
		}

		effect = {
			add_years_of_income = -0.25
			add_country_modifier = {
				name = spa_fullrigged
				duration = -1
			}
		}
	}
}

country_decisions = {
	ven_upgrade_galeazza_decision = {
		color = { 255 69 0 }
		major = yes
		potential = {
			has_reform = merchant_arsenal_reform
			NOT = { has_country_modifier = ven_galeazza }
			is_or_was_tag = {
				tag = VEN
			}
		}

		allow = {
			has_reform = merchant_arsenal_reform
			num_of_galleass = 5
		}

		effect = {
			add_years_of_income = -0.25
			add_country_modifier = {
				name = ven_galeazza
				duration = -1
			}
		}
	}
}

country_decisions = {
	show_tutorial_decision = {
		potential = { 
			ai = no
		}

		allow = { }

		effect = {
			country_event = {
				id = btc_startscreen.1
			}
		}
	}
}

country_decisions = {
	portuguese_focus_decision = {
		color = { 125 35 47 }
		major = yes
		potential = {
			has_government_mechanic = portuguese_saudade_mechanic
			ai = no
		}

		allow = {
			custom_trigger_tooltip = {
				tooltip = saudade_tt
				has_government_mechanic = portuguese_saudade_mechanic
			}
			NOT = { has_country_modifier = homeland_focus }
			NOT = { has_country_modifier = overseas_focus }
			num_of_completed_idea_groups_by_category = {
				type = adm
				amount = 1
			}
			num_of_completed_idea_groups_by_category = {
				type = dip
				amount = 1
			}
			num_of_completed_idea_groups_by_category = {
				type = mil
				amount = 1
			}
		}

		effect = {
			country_event = {
				id = btc_por.131
			}
		}
	}
}

country_decisions = {
	extra_flagship_decision = {
		potential = {
			OR = {
				has_idea_group = maritime_ideas
				has_idea_group = naval_ideas
				navy_size = 50
			}
			NOT = { has_country_modifier = extra_flagship }
		}

		allow = {
			navy_size = 100
			OR = {
				full_idea_group = maritime_ideas
				full_idea_group = naval_ideas
			}
		}

		effect = {
			add_country_modifier = {
				name = extra_flagship
				duration = -1
			}
		}
	}
}

country_decisions = {
	iberian_wedding_information = {
		potential = {
			ai = no
			OR = {
				AND = {
					tag = POR
					has_heir_flag = isabel
				}
				AND = {
					tag = ARA
					has_heir_flag = joanna
				}
			}
			CAS = { NOT = { has_disaster = castilian_civil_war }}
		}

		allow = {
			stability = CAS
			OR = {
				prestige = CAS
				prestige = 100
			}
			OR = {
				legitimacy = CAS
				legitimacy = 100
			}
			if = {
				limit = {
					POR = { has_heir_flag = isabel }
				}
				227 = {
					higher_development_than = 219
				}
			}
			if = {
				limit = {
					ARA = { has_heir_flag = joanna }
				}
				214 = {
					higher_development_than = 219
				}
			}
		}

		effect = {
		}
	}
}

country_decisions = {
	cas_por_iberian_wedding_information = {
		potential = {
			ai = no
			tag = CAS
			has_heir_flag = isabel
			CAS = { NOT = { has_disaster = castilian_civil_war }}
		}

		allow = {
			OR = {
				stability = POR
				OR = {
					prestige = POR
					prestige = 100
				}
				OR = {
					legitimacy = POR
					legitimacy = 100
				}
				219 = {
					higher_development_than = 227
				}
			}
		}

		effect = {
		}
	}
}

country_decisions = {
	cas_ara_iberian_wedding_information = {
		potential = {
			ai = no
			tag = CAS
			has_heir_flag = joanna
			CAS = { NOT = { has_disaster = castilian_civil_war }}
		}

		allow = {
			OR = {
				stability = ARA
				OR = {
					prestige = ARA
					prestige = 100
				}
				OR = {
					legitimacy = ARA
					legitimacy = 100
				}
				219 = {
					higher_development_than = 214
				}
			}
		}

		effect = {
		}
	}
}

country_decisions = {
	portugal_colour = {
		potential = {
			tag = POR
			ai = no
		}
		allow = {}
		effect = {
			country_event = {
				id = btc_por.164
			}
		}
	}
}

# Colonial Pool

country_decisions = {
	colonial_pool = {
		color = { 55 160 255 }
		potential = {
			ai = no
			num_of_colonists = 1
		}
		allow = {
			custom_trigger_tooltip = {
				tooltip = settler_pool_tt
				num_of_colonists = 1
			}
		}
		effect = {
			country_event = {
				id = btc_events.16
			}
		}
	}
}

# Revoke Treaty of Tordesillas

country_decisions = {
	revoke_tordesillas = {
		potential = {
			ai = no
			OR = {
				has_country_flag = tordesillas_por
				has_country_flag = terra_nova_por
				has_country_flag = new_tordesillas_por
				has_country_flag = tordesillas_cas
				has_country_flag = terra_nova_cas
				has_country_flag = new_tordesillas_cas
			}
		}
		allow = {
			custom_trigger_tooltip = {
				tooltip = revoke_tordesillas_tt
			}
		}
		effect = {
			custom_tooltip = tordesillas_revoked_tt
			hidden_effect = {
				POR = {
					clr_country_flag = tordesillas_por
					clr_country_flag = terra_nova_por
					clr_country_flag = new_tordesillas_por
				}
				IBE = {
					clr_country_flag = tordesillas_por
					clr_country_flag = terra_nova_por
					clr_country_flag = new_tordesillas_por
				}
				CAS = {
					clr_country_flag = tordesillas_cas
					clr_country_flag = terra_nova_cas
					clr_country_flag = new_tordesillas_cas
				}
				SPA = {
					clr_country_flag = tordesillas_cas
					clr_country_flag = terra_nova_cas
					clr_country_flag = new_tordesillas_cas
				}
			}
			POR = { remove_country_modifier = tordesillas_claims }
			IBE = { remove_country_modifier = tordesillas_claims }
			CAS = { remove_country_modifier = tordesillas_claims }
			SPA = { remove_country_modifier = tordesillas_claims }
			add_stability = -2
			if = {
				limit = {
					ROOT = {
						is_or_was_tag = {
							tag = POR
						}
					}
					exists = CAS
				}
				CAS = {
					add_opinion = {
						who = ROOT
						modifier = revoked_tordesillas
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_or_was_tag = {
							tag = POR
						}
					}
					exists = SPA
				}
				SPA = {
					add_opinion = {
						who = ROOT
						modifier = revoked_tordesillas
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_or_was_tag = {
							tag = CAS
						}
					}
					exists = POR
				}
				POR = {
					add_opinion = {
						who = ROOT
						modifier = revoked_tordesillas
					}
				}
			}
			if = {
				limit = {
					ROOT = {
						is_or_was_tag = {
							tag = CAS
						}
					}
					exists = IBE
				}
				IBE = {
					add_opinion = {
						who = ROOT
						modifier = revoked_tordesillas
					}
				}
			}
		}
	}
}

# Hire Navigator

country_decisions = {
	hire_navigator = {
		potential = {
			ai = no
			mission_completed = btc_por_sagres
		}
		allow = {
			has_estate_privilege = estate_burghers_naval_school_right
			mission_completed = btc_por_sagres
			owns = 230
			navy_tradition = 5
		}
		effect = {
			define_advisor = {
				type = navigator
				skill = 1
				discount = yes
				location = 230
			}
			add_navy_tradition = -5
		}
	}
}